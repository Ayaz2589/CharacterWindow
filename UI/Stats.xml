<Ui xmlns="http://www.blizzard.com/wow/ui/">

  <!-- Right-side stats panel: Item Level, Attributes, Enhancements -->
  <!-- Use a simple built-in bordered template instead of Backdrop XML -->
  <Frame name="CharacterWindowStatsPanel" parent="CharacterWindowFrame" inherits="TooltipBorderedFrameTemplate">
    <Size x="350" y="0"/>
    <Anchors>
      <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-30" y="-80"/>
      <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-20" y="40"/>
    </Anchors>

    <Layers>
      <Layer level="BACKGROUND">
        <!-- Class-themed stats background atlas (set from Lua) -->
        <Texture name="$parentClassBG" setAllPoints="true"/>

        <!-- Dark overlay inset so it sits inside the TooltipBorderedFrameTemplate border -->
        <Texture name="$parentBG">
          <Anchors>
            <Anchor point="TOPLEFT" x="4" y="-4"/>
            <Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
          </Anchors>
          <Color r="0" g="0" b="0" a="0.75"/>
        </Texture>
      </Layer>

      <Layer level="ARTWORK">
        <!-- Title backgrounds centered within the stats panel -->
        <Texture name="$parentItemLevelTitleBG" atlas="UI-Character-Info-Title">
          <Size x="300" y="55"/>
          <Anchors>
            <!-- TOP uses the horizontal center of the frame, so this centers the art -->
            <Anchor point="TOP" x="0" y="-16"/>
          </Anchors>
        </Texture>
        <Texture name="$parentAttributesTitleBG" atlas="UI-Character-Info-Title">
          <Size x="300" y="55"/>
          <Anchors>
            <!-- Centered directly under the Item Level title, with even more vertical spacing -->
            <Anchor point="TOP" relativeTo="$parentItemLevelTitleBG" relativePoint="BOTTOM" x="0" y="-47"/>
          </Anchors>
        </Texture>
        <Texture name="$parentEnhancementsTitleBG" atlas="UI-Character-Info-Title">
          <Size x="300" y="55"/>
          <Anchors>
            <!-- Centered directly under the Attributes title, with a larger /vertical gap between sections -->
            <Anchor point="TOP" relativeTo="$parentAttributesTitleBG" relativePoint="BOTTOM" x="0" y="-80"/>
          </Anchors>
        </Texture>

        <!-- Item level bounce background behind the numeric value (scaled down) -->
        <Texture name="$parentItemLevelBounce" atlas="UI-Character-Info-ItemLevel-Bounce">
          <!-- Slightly translucent so it doesn't overpower the text -->
          <Size x="275" y="40"/>
          <Anchors>
            <!-- Centered under the Item Level ribbon -->
            <Anchor point="TOP" relativeTo="$parentItemLevelTitleBG" relativePoint="BOTTOM" x="0" y="-4"/>
          </Anchors>
          <Color r="1" g="1" b="1" a="0.3"/>
        </Texture>

        <!-- Section titles (anchored to their title backgrounds, centered) -->
        <FontString name="$parentItemLevelLabel" inherits="GameFontNormalLarge" text="Item Level">
          <Anchors>
            <Anchor point="CENTER" relativeTo="$parentItemLevelTitleBG" relativePoint="CENTER" x="0" y="0"/>
          </Anchors>
          <FontHeight val="26"/>
        </FontString>
        <FontString name="$parentAttributesLabel" inherits="GameFontNormalLarge" text="Attributes">
          <Anchors>
            <Anchor point="CENTER" relativeTo="$parentAttributesTitleBG" relativePoint="CENTER" x="0" y="0"/>
          </Anchors>
          <FontHeight val="26"/>
        </FontString>
        <FontString name="$parentEnhancementsLabel" inherits="GameFontNormalLarge" text="Enhancements">
          <Anchors>
            <Anchor point="CENTER" relativeTo="$parentEnhancementsTitleBG" relativePoint="CENTER" x="0" y="0"/>
          </Anchors>
          <FontHeight val="26"/>
        </FontString>

        <!-- Item level value: centered on the bounce art -->
        <FontString name="$parentItemLevelValue" inherits="GameFontHighlightLarge" justifyH="CENTER">
          <Anchors>
            <Anchor point="CENTER" relativeTo="$parentItemLevelBounce" relativePoint="CENTER" x="0" y="0"/>
          </Anchors>
          <!-- Much larger so it visually matches the default character sheet -->
          <FontHeight val="40"/>
        </FontString>

        <!-- Attribute lines: separate label and value so they can be spaced like CSS space-between -->
        <!-- Row 1: primary stat -->
        <FontString name="$parentAttributesLine1Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Lock Y to just below the Attributes title, but move slightly inward from the panel edge -->
            <Anchor point="TOP"  relativeTo="$parentAttributesLabel" relativePoint="BOTTOM" x="0"  y="-25"/>
            <Anchor point="LEFT" relativeTo="$parent"               relativePoint="LEFT"   x="28" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentAttributesLine1Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <!-- Align Y with the label, X to the right edge of the panel -->
            <Anchor point="TOP"   relativeTo="$parentAttributesLine1Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                   relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 2: stamina -->
        <FontString name="$parentAttributesLine2Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Increased vertical gap below the first attribute row -->
            <Anchor point="TOPLEFT" relativeTo="$parentAttributesLine1Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentAttributesLine2Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentAttributesLine2Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                     relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 3: armor -->
        <FontString name="$parentAttributesLine3Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Increased vertical gap below the second attribute row -->
            <Anchor point="TOPLEFT" relativeTo="$parentAttributesLine2Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentAttributesLine3Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentAttributesLine3Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                     relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Enhancement lines (placeholders), also split into label + value pairs -->
        <!-- Row 1: crit -->
        <FontString name="$parentEnhancementsLine1Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Match left inset with Attributes column, with extra vertical gap below Enhancements title -->
            <Anchor point="TOP"  relativeTo="$parentEnhancementsLabel" relativePoint="BOTTOM" x="0"  y="-25"/>
            <Anchor point="LEFT" relativeTo="$parent"                  relativePoint="LEFT"   x="28" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine1Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine1Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 2: haste -->
        <FontString name="$parentEnhancementsLine2Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Increased vertical gap below the first enhancement row -->
            <Anchor point="TOPLEFT" relativeTo="$parentEnhancementsLine1Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine2Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine2Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 3: mastery -->
        <FontString name="$parentEnhancementsLine3Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <!-- Increased vertical gap below the second enhancement row -->
            <Anchor point="TOPLEFT" relativeTo="$parentEnhancementsLine2Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine3Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine3Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 4: versatility -->
        <FontString name="$parentEnhancementsLine4Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentEnhancementsLine3Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine4Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine4Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 5: leech -->
        <FontString name="$parentEnhancementsLine5Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentEnhancementsLine4Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine5Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine5Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>

        <!-- Row 6: speed -->
        <FontString name="$parentEnhancementsLine6Label" inherits="GameFontHighlightSmall">
          <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentEnhancementsLine5Label" relativePoint="BOTTOMLEFT" x="0" y="-10"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
        <FontString name="$parentEnhancementsLine6Value" inherits="GameFontHighlightSmall" justifyH="RIGHT">
          <Anchors>
            <Anchor point="TOP"   relativeTo="$parentEnhancementsLine6Label" relativePoint="TOP"   x="0"  y="0"/>
            <Anchor point="RIGHT" relativeTo="$parent"                        relativePoint="RIGHT" x="-24" y="0"/>
          </Anchors>
          <FontHeight val="20"/>
        </FontString>
      </Layer>
    </Layers>

    <!-- Interactive tooltip frames for stats -->
    <Frames>
      <!-- Item Level tooltip -->
      <Frame name="$parentItemLevelTooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelItemLevelBounce" relativePoint="TOPLEFT" x="-10" y="5"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelItemLevelBounce" relativePoint="BOTTOMRIGHT" x="10" y="-5"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "itemlevel")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Primary stat tooltip -->
      <Frame name="$parentAttributesLine1Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelAttributesLine1Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelAttributesLine1Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "primary")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Stamina tooltip -->
      <Frame name="$parentAttributesLine2Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelAttributesLine2Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelAttributesLine2Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "stamina")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Armor tooltip -->
      <Frame name="$parentAttributesLine3Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelAttributesLine3Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelAttributesLine3Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "armor")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Critical Strike tooltip -->
      <Frame name="$parentEnhancementsLine1Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine1Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine1Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "crit")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Haste tooltip -->
      <Frame name="$parentEnhancementsLine2Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine2Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine2Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "haste")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Mastery tooltip -->
      <Frame name="$parentEnhancementsLine3Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine3Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine3Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "mastery")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Versatility tooltip -->
      <Frame name="$parentEnhancementsLine4Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine4Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine4Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "versatility")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Leech tooltip -->
      <Frame name="$parentEnhancementsLine5Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine5Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine5Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "leech")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
      
      <!-- Speed tooltip -->
      <Frame name="$parentEnhancementsLine6Tooltip" enableMouse="true">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="CharacterWindowStatsPanelEnhancementsLine6Label" relativePoint="TOPLEFT" x="-5" y="2"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="CharacterWindowStatsPanelEnhancementsLine6Value" relativePoint="BOTTOMRIGHT" x="5" y="-2"/>
        </Anchors>
        <Scripts>
          <OnEnter>
            if CharacterWindow_ShowStatTooltip then
              CharacterWindow_ShowStatTooltip(self, "speed")
            end
          </OnEnter>
          <OnLeave>
            if CharacterWindow_HideStatTooltip then
              CharacterWindow_HideStatTooltip()
            end
          </OnLeave>
        </Scripts>
      </Frame>
    </Frames>

  </Frame>

</Ui>

